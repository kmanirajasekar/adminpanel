import{g as b,l as C,m as y,o as a,c as r,d as p,p as h,a as s,w as c,v as i,F as d,f as u,t as w,u as m,h as N,j as k,i as x,q as V}from"./index-50296341.js";import{_ as S}from"./Layout-aff37887.js";import{u as L,r as _,m as v}from"./index-7b7100df.js";import"./bootstrap.min-5bbf31fb.js";import"./messagesService-5a77c561.js";const B={class:"password"},D={class:"content-container"},M=s("div",{class:"title-wrapper parent-page-title"},[s("div",{class:"list-title"},[s("h4",null,"Change Password")])],-1),T=s("hr",{class:"line"},null,-1),U={class:"content"},q={class:"form-container"},F={class:"row g-3"},j={class:"col-lg-8 col-md-12 col-sm-12"},E=s("label",{class:"form-label"},"Current password",-1),R={class:"row g-3"},z={class:"col-lg-8 col-md-12 col-sm-12"},A=s("label",{class:"form-label"},"New password",-1),G={class:"row g-3"},H={class:"col-lg-8 col-md-12 col-sm-12"},I=s("label",{class:"form-label"},"Confirm new password",-1),J={class:"row"},K={class:"col-lg-6 col-md-8 col-sm-12 col-xs-12"},O={class:"button-container"},Q=["onClick"],os={__name:"ChangePassword",setup(W){const t=b({currentPassword:"",newPassword:"",confirmNewPassword:""}),f={currentPassword:{required:_},newPassword:{required:_,minLength:v(6)},confirmNewPassword:{required:_,minLength:v(6)}},n=L(f,t),g=C(),P=async()=>{if(!await n.value.$validate())return;const o=x();try{V.changePassword(t).then(l=>{n.value.$reset(),l.status==200&&(o.success("Password changed"),g.push({name:"view-profile"}))})}catch{o.error("Something went wrong")}};return($,o)=>{const l=y("router-link");return a(),r("div",B,[p(S,null,{default:h(()=>[s("div",D,[M,T,s("div",U,[s("div",q,[s("div",F,[s("div",j,[E,c(s("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>t.currentPassword=e),type:"password",class:"form-control",placeholder:"Current password",maxlength:"50"},null,512),[[i,t.currentPassword]]),(a(!0),r(d,null,u(m(n).currentPassword.$errors,e=>(a(),r("span",{class:"validation-error",key:e.$uid},w(e.$message),1))),128))])]),s("div",R,[s("div",z,[A,c(s("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>t.newPassword=e),type:"password",class:"form-control",placeholder:"New password",maxlength:"50"},null,512),[[i,t.newPassword]]),(a(!0),r(d,null,u(m(n).newPassword.$errors,e=>(a(),r("span",{class:"validation-error",key:e.$uid},w(e.$message),1))),128))])]),s("div",G,[s("div",H,[I,c(s("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>t.confirmNewPassword=e),type:"password",class:"form-control",placeholder:"Confirm new password",maxlength:"50"},null,512),[[i,t.confirmNewPassword]]),(a(!0),r(d,null,u(m(n).confirmNewPassword.$errors,e=>(a(),r("span",{class:"validation-error",key:e.$uid},w(e.$message),1))),128))])]),s("div",J,[s("div",K,[s("div",O,[s("button",{class:"btn btn-save",onClick:N(P,["prevent"])},"Save",8,Q),p(l,{to:{name:"view-profile"},class:"btn btn-cancel"},{default:h(()=>[k("Cancel")]),_:1})])])])])])])]),_:1})])}}};export{os as default};
